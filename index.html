<!DOCTYPE html>
<html lang="pt-br" class="">
<meta charset="UTF-8">
<title>La Dorni</title>
<meta name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
<link rel="shortcut icon" type="image/png" href="img/favicon256-01.png"/>
<!--[if you are a curious]
	A another project of Kabana's Info & Mowe
[endif]-->
<script src="dist/js/villa.min.js"></script>
<link rel="stylesheet" href="dist/css/villa.min.css"/>
<link rel="stylesheet" href="dist/css/ladorni.css"/>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="dist/css/material-colors.css"/>
<link rel="stylesheet" type="text/css" href="dist/css/villa-cross.min.css"/>
<script src="dist/js/html5shiv.js"></script>
<script src="dist/js/html5shiv-printshiv.js"></script>
<script src="dist/js/classList.min.js"></script>
<![endif]-->

<style>

	body.is-loading .TransitionScreen--start {
		height: 100%;
		position: fixed;
		width: 100%;
		background-color: #eeeeee;
		top: 0;
		left: 0;
		display: -webkit-box;
		display: -moz-box;
		display: -ms-flexbox;
		display: -webkit-flex;
		display: flex;
		z-index: 99;
	}

</style>

<body class="">

<nav id="navigation" class="MainNav Navigation">

	<div class="Transition">

		<div class="TransitionScreen TransitionScreen--start"></div>

		<div class="TransitionScreen TransitionScreen--first indigo-900"></div>
		<div class="TransitionScreen TransitionScreen--second grey-900"></div>

		<div class="TransitionScreen TransitionScreen--winemenu grey-900 font-grey-400">

			<span>Carregando lista de vinhos...</span>

		</div>

	</div>

	<header class="MainHeader playfair-display">

		<div class="MainHeaderBrand">

			<div id="main-header-logo" class="Logo MainHeaderBrand-logo is-only-winery">

				<a href="#" class="Logo-select-area NavigationItem" data-navigation-target="home">

					<span id="logo"></span>

				</a>

			</div>

			<div class="MainHeaderBrand-title">

				<h1>Vinícola <strong><span>L</span>a Dorn<span>i</span></strong></h1>

			</div>

		</div>

		<div id="service-menu" class="Menu Menu--service">

			<ul class="MenuList roboto">

				<li class="MenuItem">

					<a href="./como-chegar" class="MenuItem-select-area NavigationItem" data-navigation-target="location">

						<span>Como chegar</span>

					</a>

				</li>

				<li class="MenuItem">

					<a href="./contato" class="MenuItem-select-area NavigationItem" data-navigation-target="contact">

						<span><strong>Contato</strong></span>

					</a>

				</li>

			</ul>

		</div>

	</header>

	<div id="main-menu" class="MainMenu Menu">

		<div class="MenuToggleButton">

			<a href="#" class="MenuToggleButton-select-area">

				<span class="icon icon--open">

					<span class="icon-menu"></span>

				</span>

				<span class="icon icon--close">

					<span class="icon-angle-left"></span>

				</span>

			</a>

		</div>

		<ul class="MenuList playfair-display white">

			<li class="MenuItem">

				<a href="./" class="MenuItem-select-area NavigationItem" data-navigation-target="home">

					<span>Início</span>

				</a>

			</li>

			<li class="MenuItem">

				<a href="./vinicola" class="MenuItem-select-area NavigationItem" data-navigation-target="winery">

					<span class="slash">/</span><span>A Vinícola</span>

				</a>

			</li>

			<li class="MenuItem">

				<a href="./castelo" class="MenuItem-select-area NavigationItem" data-navigation-target="castle">

					<span class="slash">/</span><span>O Castelo</span>

				</a>

			</li>

			<li class="MenuItem">

				<a href="./vinhos" class="MenuItem-select-area NavigationItem" data-navigation-target="winemenu">

					<span class="slash">/</span><span>Vinhos</span>

				</a>

			</li>

		</ul>

	</div>

</nav>

<main class="Main roboto">

	<section id="home" class="Home">

		<section class="Hero">

			<div class="Hero-background blue-grey-100">

				<img src="dist/img/6-curves.png" alt=""/>

			</div>

			<div class="Hero-inner">

				<div class="HeroGallery">

					<article id="winery-hero" class="HeroGalleryItem HeroGalleryItem--winery"></article>
					<article id="castle-hero" class="HeroGalleryItem HeroGalleryItem--castle"></article>
					<article id="winemenu-hero" class="HeroGalleryItem HeroGalleryItem--winemenu"></article>

				</div>

			</div>

		</section>

	</section>

	<div class="Main-content">

		<section id="winemenu" class="Page Page--winemenu">

			<header class="PageHeader">

				<div class="PageHeader-background"></div>
				<div class="PageHeader-overlay"></div>

				<a href="#vinhos" class="NavAnchor NavigationItem font-grey-800" data-navigation-target="winemenu">

					<div class="PageHeader-title">

						<h3>Nosso menu <br/>de <strong>Vinhos</strong></h3>

					</div>

				</a>

			</header>

			<section id="vinhos" class="Page-content"></section>

		</section>

		<section id="winery" class="Page Page--winery">

			<header class="PageHeader">

				<div class="PageHeader-background"></div>
				<div class="PageHeader-overlay"></div>

				<a href="#vinicola" class="NavAnchor NavigationItem font-grey-800" data-navigation-target="winery">

					<div class="PageHeader-title">

						<h3>Conheça <br/>a <strong>Vinícola</strong></h3>

					</div>

				</a>

			</header>

			<section id="vinicola" class="Page-content playfair-display">

			</section>

		</section>

		<section id="castle" class="Page Page--castle">

			<header class="PageHeader">

				<div class="PageHeader-background"></div>
				<div class="PageHeader-overlay"></div>

				<a href="#castelo" class="NavAnchor NavigationItem font-grey-800" data-navigation-target="castle">

					<div class="PageHeader-title">

						<h3>Faça um <em>Tour</em> <br/>pelo <strong>Castelo</strong></h3>

					</div>

				</a>

			</header>

			<section id="castelo" class="Page-content playfair-display">

			</section>

		</section>

	</div>

</main>

<!-- The fun init here! o/ -->

<script src="dist/js/ladorni.js"></script>

<script>

	/* LaDorni Site */

	var LaDorni = (function () {

		/**
		 * LaDorni Site constructor
		 * @constructor
		 */
		function LaDorni(viewport) {

			this.viewport = viewport;

			this.logo = false;

			this.winemenu = {};
			this.winery = {};
			this.castle = {};

			this.navigation = false;

			/* Get Pages viewports */

			// Home
			this.home = new Page();
			this.home.viewport = document.getElementById('home');

			// WineMenu
			this.winemenu = new Page();
			this.winemenu.viewport = document.getElementById('winemenu');
			this.winemenu.hero = new Hero(document.getElementById('winemenu-hero'));
			this.winemenu.content.viewport = document.getElementById('vinhos');

			// Winery
			this.winery = new Page();
			this.winery.viewport = document.getElementById('winery');
			this.winery.hero = new Hero(document.getElementById('winery-hero'));

			// Castle
			this.castle = new Page();
			this.castle.viewport = document.getElementById('castle');
			this.castle.hero = new Hero(document.getElementById('castle-hero'));

		}

		LaDorni.prototype.getLogo = function () {

			this.logo = new Logo(document.getElementById('logo'), 'img/LadorniLogoPure-web.min.svg', function () {

				headerLogo.classList.add('is-loaded');

			});

		};

		LaDorni.prototype.getWineMenu = function() {

			var self = this;

			if (this.winemenu.viewport) {

				this.winemenu.autoLoad = false;

				this.winemenu.done = function () {

					self.navigation.removeDocumentState('is-loading');
					self.winemenu.isLoaded = true;

				};

				this.winemenu.load = function() {

					// if it has not downloaded
					if (!self.winemenu.contentLoad.isLoaded) {

						self.winemenu.contentLoad.load();
						ladorni.navigation.addDocumentState('is-loading');

						var wineList = new WineList(document.documentElement);
						wineList.init();

					}

				};

				// unload, require and load the content
				this.winemenu.requireContent = function (autoLoad) {

					if (!self.winemenu.isLoaded) {

						self.winemenu.requiredContent = self.winemenu.viewport.querySelectorAll('.WineFigure-img');
						self.winemenu.contentLoad = new Unloader(self.winemenu.requiredContent);
						self.winemenu.require = new Require(self.winemenu.requiredContent, self.winemenu.done, .5);

						if (autoLoad || self.winemenu.autoLoad)
							self.winemenu.load();

					}

				};

				this.winemenu.fileAppend = new FileAppend(this.winemenu.content.viewport, 'winemenu.html', function () {

					self.winemenu.requireContent(self.winemenu.autoLoad);

				});

			}

		};

		LaDorni.prototype.getWinery = function () {

			var self = this;

			if (this.winery.viewport) {

				this.winery.autoLoad = false;

				this.winery.load = function() {

					console.log('baixando o conteúdo');

				};

				this.winery.requireContent = function (autoLoad) {

					if (autoLoad || self.winery.autoLoad)
						self.winery.load();

				};

				this.winery.content = {};
				this.winery.content.viewport = document.getElementById('vinicola');
				this.winery.fileAppend = new FileAppend(this.winery.content.viewport, 'winery.html', function () {

					self.winery.requireContent(self.winery.autoLoad);

				});

			}

		};

		LaDorni.prototype.getCastle = function() {

			var self = this;

			if (this.castle.viewport) {

				this.castle.autoLoad = false;

				this.castle.load = function() {

					console.log('baixando o conteúdo');

				};

				this.castle.requireContent = function (autoLoad) {

					if (autoLoad || self.winery.autoLoad)
						self.winery.load();

				};

				this.castle.content = {};
				this.castle.content.viewport = document.getElementById('castelo');
				this.castle.fileAppend = new FileAppend(this.castle.content.viewport, 'castle.html', function () {

					self.castle.requireContent(self.castle.autoLoad);

				});

			}

		};

		LaDorni.prototype.init = function() {

			this.getLogo();

			/* Init pages */

			if (this.winemenu.viewport)
				this.winemenu.init();

			if (this.winery.viewport)
				this.winery.init();

			if (this.castle.viewport)
				this.castle.init();

			this.getWineMenu();
			this.getWinery();
			this.getCastle();

			this.navigation.init();

		};

		return LaDorni;

	})();

</script>

<script>

	var welcomeMessage = function (nav) {

		if (!nav.changePageCount)
			console.log('bem vindo ao site da LaDorni');

	};

	var mainMenu = new Menu(document.getElementById('main-menu'));

	var test = function () {

	};

	var headerLogo = document.getElementById('main-header-logo');

	var ladorni = new LaDorni(document.body);

	ladorni.navigation = new Navigation(document.getElementById('navigation'), document.body);

	ladorni.navigation.pushItem({
		action: {
			before: welcomeMessage
		},
		itemName: 'home',
		itemTitle: false,
		itemURL: './',
		isHome: true,
		stateClass: 'is-home'
	}, ladorni.home);

	ladorni.navigation.pushItem({
		itemName: 'winery',
		itemTitle: 'A vínicola',
		itemURL: './vinicola'
	}, ladorni.winery);

	ladorni.navigation.pushItem({
		itemName: 'castle',
		itemTitle: 'O Castelo',
		itemURL: './castelo'
	}, ladorni.castle);

	ladorni.navigation.pushItem({
		action: new PageAction(ladorni.navigation, ladorni.winemenu, 'is-winemenu'),
		itemName: 'winemenu',
		itemTitle: 'Vinhos',
		itemURL: './vinhos'
	}, ladorni.winemenu);

	ladorni.init();

</script>

</body>

</html>